---
{"aliases":[],"tags":["gardenEntry"],"title":"00_每日卡片笔记","date":"2025-05-31T23:55:23Z","date_modify":"2025-06-01T00:01:16Z","dg-publish":true,"dg-home":true,"number headings":"None","permalink":"/900_Publish/00_每日卡片笔记/","dgPassFrontmatter":true,"noteIcon":"","created":"2025-05-31T23:55:23Z","updated":"2025-06-01T00:01:16Z"}
---


# 20250531 域名解析

阿里云的域名可以 DNS 配置腾讯云的，然后解析都在腾讯云上

# 20250530 Geo 判断 IP 库

geo 库的一个重要用途就是 IP 地理定位。这类库可以根据 IP 地址判断用户的地理位置信息。

判断 IP 地址库，City 比 Country 准确性好一些。

[https://github.com/P3TERX/GeoLite.mmdb](https://github.com/P3TERX/GeoLite.mmdb)

# 20250527 Gmail 转发 到 qq 邮箱

![](https://cdn.nlark.com/yuque/0/2025/png/1475306/1748522465037-17bbb0a7-af27-45b6-87c7-04b2905ddd22.png)

# 20250527 Go-zero 获取 IP

```
ctx = SetUserAddressValue(ctx, UserAddressValue{
    ClientIp: clientIp(r),
    RemoteIP: httpx.GetRemoteAddr(r),
})


func clientIp(r *http.Request) string {
	xForwardedFor := r.Header.Get("X-Forwarded-For")
	ip := strings.TrimSpace(strings.Split(xForwardedFor, ",")[0])
	if ip != "" {
		return ip
	}

	ip = strings.TrimSpace(r.Header.Get("X-Real-Ip"))
	if ip != "" {
		return ip
	}

	if ip, _, err := net.SplitHostPort(strings.TrimSpace(r.RemoteAddr)); err == nil {
		return ip
	}
	return ""
}




// GetRemoteAddr returns the peer address, supports X-Forward-For.
func GetRemoteAddr(r *http.Request) string {
	v := r.Header.Get(xForwardedFor)
	if len(v) > 0 {
		return v
	}

	return r.RemoteAddr
}
```

# 20250526 GPU 卡

![](https://cdn.nlark.com/yuque/0/2025/png/1475306/1748253328959-b0bea31a-3ad5-4647-86ea-6e8af556fc9d.png)

- RTX 4090D VS RTX 4090
- RTX 4090D 是专门针对中国市场推出的特供版本，主要是为了符合美国对华出口管制政策。通过降低部分性能指标，使其不受出口限制。
- RTX 4090D 显卡采用的是弱化版的 AD102-250 核心，CUDA 数量从 4090 的 16384 个削减到了 14592 个，削减近 11%，实际游戏性能差距约 5-10%
- A100 VS H100
- 比如 A100，这块显卡是 AI 训练界的“老黄牛”，OpenAI 早期就靠它。
- 后来英伟达又推出了 H100，性能是 A100 的 6 倍，一块 H100 售价 25 万 +
- 为了满足中国市场的需求，英伟达还推出了特供版显卡，比如 A800 和 H800。这些显卡性能砍了一刀，国内很多 AI 公司都在用。
- H 比 A 强，100 比 800 强。

![](https://cdn.nlark.com/yuque/0/2025/png/1475306/1748253575278-eb074e48-a8b7-4cda-89a5-fa7c3e270b9d.png)

专业图形领域还得看**Quadro**和**RTX A 系列**。有 RTX A6000，48GB 显存，设计师的专属显卡。

参考：[https://zhuanlan.zhihu.com/p/29622668213](https://zhuanlan.zhihu.com/p/29622668213)

# 20250516 数据库每天都要看压力

- 解决 top sql，降低 CPU 和 Sessions
- https://docs.aws.amazon.com/zh_cn/AmazonRDS/latest/AuroraUserGuide/USER_PerfInsights.UsingDashboard.Opening.html
- 在当前活动下，会话项目显示在过去五分钟内平均活跃会话中的数据库负载。条形图显示负载量。当条形图为空时，数据库实例处于空闲状态。随着负载的增加，条形图会以蓝色填充。当负载超过数据库实例类上的虚拟 CPU (vCPU) 数量时，条形图变为红色，表示可能出现瓶颈。
- 超过 max vCPU 的线就会红![](https://cdn.nlark.com/yuque/0/2025/png/1475306/1748007864454-28770dc6-5f26-4f17-bedc-3994d20fc662.png)![](https://cdn.nlark.com/yuque/0/2025/png/1475306/1748007864471-1225496f-7bd7-4277-92a2-b1ca21290c5f.png)
